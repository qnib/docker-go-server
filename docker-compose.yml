consul:
    image: qnib/alpn-consul
    hostname: consul
    container_name: ${USER}_consul
    dns: 127.0.0.1
    ports:
     - 8500
    environment:
     - DC_NAME=dc1
     - CONSUL_BOOTSTRAP=true

gocd-server:
    hostname: gocd-server
    container_name: ${USER}_gocd-server
    image: qnib/gocd-server:16.6.0
    dns: 127.0.0.1
    ports:
     - 8153
    environment:
     - DC_NAME=dc1
    links:
     - consul:consul
    volumes:
     - ./config/:/config/
     - ./serverBackups/:/opt/go-server/artifacts/serverBackups/

gocd-agent1:
    hostname: gocd-agent1
    container_name: ${USER}_gocd-agent1
    image: qnib/alpn-gocd-agent:16.6.0
    dns: 127.0.0.1
    privileged: true
    environment:
     - DC_NAME=dc1
     - GOCD_LOCAL_DOCKERENGINE=true
    links:
     - consul:consul

